(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PoSu:function(t,e,a){"use strict";a.r(e),a.d(e,"CodeforcesModule",(function(){return K}));var i=a("ofXK"),n=a("mrSG"),s=a("fXoL"),r=a("LRne"),c=a("EY2u"),h=a("xgIS"),o=a("HDdC"),l=a("Kj3r"),u=a("eIep");class d{constructor(t){this.changes=t}static of(t){return new d(t)}notEmpty(t){if(this.changes[t]){const e=this.changes[t].currentValue;if(null!=e)return Object(r.a)(e)}return c.a}has(t){if(this.changes[t]){const e=this.changes[t].currentValue;return Object(r.a)(e)}return c.a}notFirst(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){const e=this.changes[t].currentValue;return Object(r.a)(e)}return c.a}notFirstAndEmpty(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){const e=this.changes[t].currentValue;if(null!=e)return Object(r.a)(e)}return c.a}}const g=new s.r("NGX_ECHARTS_CONFIG");let p=(()=>{let t=class{constructor(t,e,a){this.el=e,this.ngZone=a,this.autoResize=!0,this.loadingType="default",this.chartInit=new s.o,this.optionsError=new s.o,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0,this.echarts=t.echarts}ngOnChanges(t){const e=d.of(t);e.notFirstAndEmpty("options").subscribe(t=>this.onOptionsChange(t)),e.notFirstAndEmpty("merge").subscribe(t=>this.setOption(t)),e.has("loading").subscribe(t=>this.toggleLoading(!!t)),e.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.resizeSub=Object(h.a)(window,"resize").pipe(Object(l.a)(50)).subscribe(()=>{this.autoResize&&window.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this.resize())})}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()}ngDoCheck(){if(this.chart&&this.autoResize){const t=this.el.nativeElement.offsetWidth,e=this.el.nativeElement.offsetHeight;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this.resize())}}ngAfterViewInit(){setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,e){if(this.chart)try{this.chart.setOption(t,e)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){return Object(n.a)(this,void 0,void 0,(function*(){this.dispose(),yield this.initChart()}))}createChart(){this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;const t=this.el.nativeElement;if(window&&window.getComputedStyle){const e=window.getComputedStyle(t,null).getPropertyValue("height");e&&"0px"!==e||t.style.height&&"0px"!==t.style.height||(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:e})=>e(t,this.theme,this.initOpts)))}initChart(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)}))}onOptionsChange(t){return Object(n.a)(this,void 0,void 0,(function*(){t&&(this.chart||(this.chart=yield this.createChart(),this.chartInit.emit(this.chart)),this.setOption(this.options,!0))}))}createLazyEvent(t){return this.chartInit.pipe(Object(u.a)(e=>new o.a(a=>(e.on(t,t=>this.ngZone.run(()=>a.next(t))),()=>e.off(t)))))}};return t.\u0275fac=function(e){return new(e||t)(s.Lb(g),s.Lb(s.l),s.Lb(s.A))},t.\u0275dir=s.Gb({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[s.yb]}),t})();var m;let b=(()=>{let t=m=class{static forRoot(t){return{ngModule:m,providers:[{provide:g,useValue:t}]}}static forChild(){return{ngModule:m}}};return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[]]}),t})();var f=a("tyNb"),R=a("LCvv"),L=a("wZkO");const y={userRatingPrefix:"https://codeforces.com/api/user.rating?",contestPrefix:"https://codeforces.com/contest"},w=[{scoreLow:0,scoreHigh:1200,color:"#cccccc",name:"Newbie"},{scoreLow:1200,scoreHigh:1400,color:"#70eb74",name:"Pupil"},{scoreLow:1400,scoreHigh:1600,color:"#76ddbb",name:"Specialist"},{scoreLow:1600,scoreHigh:1900,color:"#aaa9fc",name:"Expert"},{scoreLow:1900,scoreHigh:2100,color:"#ec84fc",name:"Candidate Master"},{scoreLow:2100,scoreHigh:2300,color:"#fecc88",name:"Master"},{scoreLow:2300,scoreHigh:2400,color:"#fcbb54",name:"International Master"},{scoreLow:2400,scoreHigh:2600,color:"#f47476",name:"Grandmaster"},{scoreLow:2600,scoreHigh:3e3,color:"#f24533",name:"International Grandmaster"},{scoreLow:3e3,scoreHigh:4e3,color:"#ab2e16",name:"Legendary grandmaster"}];let C=(()=>{class t{constructor(){}static getUrl(){return y}static getColors(){return w}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const v=C.getColors();let O=(()=>{class t{constructor(){this.chartOption={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[]},yAxis:{type:"value",scale:!0},series:[{data:[],type:"line"}]},this.echartsInstance=null,this.newChartOption=null}set userRatingList(t){this.userRatingListPrivate=t,this.updateRatingGraph(this.userRatingListPrivate)}get userRatingList(){return this.userRatingListPrivate}ngOnInit(){const t={top:10,right:10,pieces:[]};v.forEach(e=>{t.pieces.push({gt:e.scoreLow,lte:e.scoreHigh,color:e.color})}),this.chartOption.visualMap=[t]}onChartInit(t){null===this.echartsInstance&&(this.echartsInstance=t,null!==this.newChartOption&&(this.echartsInstance.setOption(this.newChartOption),this.newChartOption=null))}updateRatingGraph(t){if(0===t.length)return;const e=this.chartOption,a=[];for(let n=0;n<t.length;n++)a.push(n);e.xAxis.data=a;const i=[];t.forEach(t=>{i.push(t.newRating)}),e.series[0].data=i,null!==this.echartsInstance?this.echartsInstance.setOption(e):this.newChartOption=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Fb({type:t,selectors:[["app-rating-graph"]],inputs:{userRatingList:"userRatingList"},decls:1,vars:1,consts:[["echarts","",1,"demo-chart",3,"options","chartInit"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Xb("chartInit",(function(t){return e.onChartInit(t)})),s.Qb()),2&t&&s.hc("options",e.chartOption)},directives:[p],styles:[".demo-chart[_ngcontent-%COMP%]{height:80vh}"]}),t})();var M=a("M9IT"),E=a("+0xr");function z(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"contestId"),s.Qb())}function S(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(t.contestId)}}function A(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"contestName"),s.Qb())}function x(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(t.contestName)}}function P(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"handle"),s.Qb())}function I(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(t.handle)}}function D(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"newRating"),s.Qb())}function H(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit,a=s.bc();s.tc("color",a.calcColor(t.newRating)),s.Ab(1),s.yc(t.newRating)}}function Q(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"oldRating"),s.Qb())}function j(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(t.oldRating)}}function k(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"rank"),s.Qb())}function U(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(t.rank)}}function T(t,e){1&t&&(s.Rb(0,"mat-header-cell"),s.xc(1,"Date"),s.Qb())}function N(t,e){if(1&t&&(s.Rb(0,"mat-cell"),s.xc(1),s.cc(2,"date"),s.Qb()),2&t){const t=e.$implicit;s.Ab(1),s.yc(s.ec(2,1,1e3*t.ratingUpdateTimeSeconds,"y/M/d HH:mm","+0800"))}}function F(t,e){1&t&&s.Mb(0,"mat-header-row")}function W(t,e){1&t&&s.Mb(0,"mat-row")}const G=function(){return[10,20,50,100]};let X=(()=>{class t{constructor(){this.displayedColumns=["contestId","contestName","newRating","rank","ratingUpdateTimeSeconds"],this.userRatingListPrivate=[]}set userRatingList(t){console.log("userRatingList"+t.length),this.userRatingListPrivate=t,this.dataSource$=new E.k(t),this.dataSource$.paginator=this.paginator}get userRatingList(){return this.userRatingListPrivate}calcColor(t){const e=C.getColors();for(const a in e)if(t<e[a].scoreHigh)return e[a].color;return"#000000"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Fb({type:t,selectors:[["app-user-rating"]],viewQuery:function(t,e){var a;1&t&&s.sc(M.a,!0),2&t&&s.lc(a=s.Yb())&&(e.paginator=a.first)},inputs:{userRatingList:"userRatingList"},decls:26,vars:5,consts:[[1,"mat-elevation-z8"],["aria-label","Elements",3,"dataSource"],["matColumnDef","contestId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","contestName"],["matColumnDef","handle"],["matColumnDef","newRating"],[3,"color",4,"matCellDef"],["matColumnDef","oldRating"],["matColumnDef","rank"],["matColumnDef","ratingUpdateTimeSeconds"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"mat-table",1),s.Pb(2,2),s.wc(3,z,2,0,"mat-header-cell",3),s.wc(4,S,2,1,"mat-cell",4),s.Ob(),s.Pb(5,5),s.wc(6,A,2,0,"mat-header-cell",3),s.wc(7,x,2,1,"mat-cell",4),s.Ob(),s.Pb(8,6),s.wc(9,P,2,0,"mat-header-cell",3),s.wc(10,I,2,1,"mat-cell",4),s.Ob(),s.Pb(11,7),s.wc(12,D,2,0,"mat-header-cell",3),s.wc(13,H,2,3,"mat-cell",8),s.Ob(),s.Pb(14,9),s.wc(15,Q,2,0,"mat-header-cell",3),s.wc(16,j,2,1,"mat-cell",4),s.Ob(),s.Pb(17,10),s.wc(18,k,2,0,"mat-header-cell",3),s.wc(19,U,2,1,"mat-cell",4),s.Ob(),s.Pb(20,11),s.wc(21,T,2,0,"mat-header-cell",3),s.wc(22,N,3,5,"mat-cell",4),s.Ob(),s.wc(23,F,1,0,"mat-header-row",12),s.wc(24,W,1,0,"mat-row",13),s.Qb(),s.Mb(25,"mat-paginator",14),s.Qb()),2&t&&(s.Ab(1),s.hc("dataSource",e.dataSource$),s.Ab(22),s.hc("matHeaderRowDef",e.displayedColumns),s.Ab(1),s.hc("matRowDefColumns",e.displayedColumns),s.Ab(1),s.hc("pageSizeOptions",s.ic(4,G)))},directives:[E.j,E.c,E.e,E.b,E.g,E.i,M.a,E.d,E.a,E.f,E.h],pipes:[i.e],styles:[""]}),t})();var V=a("Wp6s"),$=a("kmnG"),B=a("qFsG"),Y=a("3Pt+"),Z=a("bTqV");const _=[{path:"",component:(()=>{class t{constructor(t){this.cfapi=t,this.CroMarmotRatingList=[],this.YeXiaoRainRatingList=[],this.Allen3RatingList=[],this.CustomRatingList=[],this.customName=""}ngOnInit(){this.cfapi.getUserRating("Cro-Marmot").then(t=>{this.CroMarmotRatingList=t.result}),this.cfapi.getUserRating("YeXiaoRain").then(t=>{this.YeXiaoRainRatingList=t.result}),this.cfapi.getUserRating("Allen_3").then(t=>{this.Allen3RatingList=t.result})}queryCustom(){""!==this.customName&&this.cfapi.getUserRating(this.customName).then(t=>{this.CustomRatingList=t.result})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(R.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-codeforces"]],decls:18,vars:9,consts:[[1,"tab-group"],["label","Cro-Marmot"],[3,"userRatingList"],["label","YeXiaoRain"],["label","Allen_3"],["label","Custom"],["matInput","","placeholder","Profile",3,"ngModel","ngModelChange"],["mat-stroked-button","",3,"click"]],template:function(t,e){1&t&&(s.Rb(0,"mat-tab-group",0),s.Rb(1,"mat-tab",1),s.Mb(2,"app-rating-graph",2),s.Mb(3,"app-user-rating",2),s.Qb(),s.Rb(4,"mat-tab",3),s.Mb(5,"app-rating-graph",2),s.Mb(6,"app-user-rating",2),s.Qb(),s.Rb(7,"mat-tab",4),s.Mb(8,"app-rating-graph",2),s.Mb(9,"app-user-rating",2),s.Qb(),s.Rb(10,"mat-tab",5),s.Rb(11,"mat-card"),s.Rb(12,"mat-form-field"),s.Rb(13,"input",6),s.Xb("ngModelChange",(function(t){return e.customName=t})),s.Qb(),s.Qb(),s.Rb(14,"button",7),s.Xb("click",(function(){return e.queryCustom()})),s.xc(15,"query"),s.Qb(),s.Qb(),s.Mb(16,"app-rating-graph",2),s.Mb(17,"app-user-rating",2),s.Qb(),s.Qb()),2&t&&(s.Ab(2),s.hc("userRatingList",e.CroMarmotRatingList),s.Ab(1),s.hc("userRatingList",e.CroMarmotRatingList),s.Ab(2),s.hc("userRatingList",e.YeXiaoRainRatingList),s.Ab(1),s.hc("userRatingList",e.YeXiaoRainRatingList),s.Ab(2),s.hc("userRatingList",e.Allen3RatingList),s.Ab(1),s.hc("userRatingList",e.Allen3RatingList),s.Ab(4),s.hc("ngModel",e.customName),s.Ab(3),s.hc("userRatingList",e.CustomRatingList),s.Ab(1),s.hc("userRatingList",e.CustomRatingList))},directives:[L.b,L.a,O,X,V.a,$.b,B.a,Y.a,Y.f,Y.h,Z.a],styles:[".tab-group[_ngcontent-%COMP%]{height:100%}.full-width[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[f.b.forChild(_)],f.b]}),t})();var q=a("kJ4b");let K=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[q.a,b.forRoot({echarts:()=>a.e(4).then(a.t.bind(null,"MT78",7))}),Y.c,J,i.c]]}),t})()}}]);